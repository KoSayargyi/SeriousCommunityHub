<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{index::head}">
    <meta charset="UTF-8">
    <title>User Profile</title>
    <style>
        .gradient-custom-2 {
            background: #fbc2eb;
            background: -webkit-linear-gradient(to right, rgba(251, 194, 235, 1), rgba(166, 193, 238, 1));
            background: linear-gradient(to right, rgba(251, 194, 235, 1), rgba(166, 193, 238, 1))
        }
        .edit-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .edit-button:hover {
            opacity: 1;
        }
        .profile-container {
            min-width: 300px; /* add a default width */
            margin: 0 auto; /* center the container */
        }
    </style>
</head>
<body>
<div th:replace="~{index::header}"></div>
<div th:replace="~{index::navbar}"></div>
<main id="main" class="main">
    <section class="h-100 gradient-custom-2">
        <div class="container py-5 h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col col-lg-9 col-xl-7">
                    <div class="card profile-container">
                        <div class="rounded-top text-white d-flex flex-row" style="height:200px;" onclick="showbgModal()" id="profile-background" >
                            <img id="profile-background-img" src="/assets/img/pf-bg1.gif" style="position: absolute; top: 0; left: 0; width: 100%; height: 200px; object-fit: cover; " alt="pf-bg">                        <div class="ms-4 mt-5 d-flex flex-column" style="width: 150px;">
                            <img id="profile-photo" src="/assets/img/default-logo.png" alt="Profile" class="img-fluid img-thumbnail mt-4 mb-2"
                                 style="width: 150px; z-index: 1" th:if="${user.photo == null}">
                            <img  th:unless="${user.photo == null}" th:src="${user.photo}" alt="Profile" class="img-fluid img-thumbnail mt-4 mb-2"
                                  style="width: 150px; z-index: 1" />
                        </div>
                            <div class="ms-3" style="margin-top: 130px;">
                                <h5 th:text="${user.name}" >Name</h5>
                                <p th:text="${user.role}">Role</p>
                            </div>
                        </div>
                        <div class="p-4 text-black" style="background-color: #f8f9fa;">
                            <div class="d-flex justify-content-end text-center py-1">
                                <div>
                                    <p class="mb-1 h5" th:text="${user.posts.size()}">253</p>
                                    <p class="small text-muted mb-0">Posts</p>
                                </div>
                                <div class="px-3">
                                    <p class="mb-1 h5">1026</p>
                                    <p class="small text-muted mb-0">Images</p>
                                </div>
                                <div>
                                    <p class="mb-1 h5">478</p>
                                    <p class="small text-muted mb-0">Videos</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-body p-4 text-black">
                            <div class="mb-5">
                                <p class="lead fw-normal mb-1">About</p>
                                <div class="p-4" style="background-color: #f8f9fa;">
                                    <p class="font-italic mb-1">
                                        <strong>Date of Birth:</strong> <span th:text="${user.dob}?: 'Not provided'"></span>
                                    </p>
                                    <p class="font-italic mb-1">
                                        <strong>Email:</strong> <span th:text="${user.email}?: 'Not provided'"></span>
                                    </p>
                                    <p class="font-italic mb-1">
                                        <strong>Phone:</strong> <span th:text="${user.phone}?: 'Not provided'"></span>
                                    </p>
                                    <p class="font-italic mb-1">
                                        <strong>Gender:</strong> <span th:text="${user.gender}?: 'Not provided'"></span>
                                    </p>
                                    <button id="seeMoreBtn" class="btn btn-link">See more...</button>
                                    <div id="moreUserInfo" style="display: none;">
                                        <p class="font-italic mb-1">
                                            <strong>Department:</strong> <span th:text="${user.dept}?: 'Not provided'"></span>
                                        </p>
                                        <p class="font-italic mb-1">
                                            <strong>Division:</strong> <span th:text="${user.division}?: 'Not provided'"></span>
                                        </p>
                                        <p class="font-italic mb-1">
                                            <strong>Team:</strong> <span th:text="${user.team}?: 'Not provided'"></span>
                                        </p>
                                        <p class="font-italic mb-1">
                                            <strong>Role:</strong> <span th:text="${user.role}?: 'Not provided'"></span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        
                    </div>
                </div>
            </div>
        </div>

       
      
        </div>
     
    </section>

    <div id="user-post-div">
    </div>

    <!-- edit modal box start  -->


    <div class="modal fade" id="editModalBox" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
   <div class="modal-dialog">
       <div class="modal-content">
           <div class="modal-header">
               <h5 class="modal-title" id="staticBackdropLabel">Edit</h5>
               <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
           </div>
           <div class="modal-body" id="editModal">
               ...
           </div>
           <div class="modal-footer">
               <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
               <button type="button" onclick="getUpdateData()" data-bs-dismiss="modal" class="btn btn-primary"
                       data-bs-toggle="modal"  >Update
               </button>
           </div>
       </div>
   </div>
</div>

    <!-- edit modal box end -->

    <div class="modal fade  " id="loadingModalBox" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
   <div class="modal-dialog">
       <div class="modal-content border rounded-1">

           <div id="markBox" class="hidden">
               <div class="check_mark">
                   <div class="sa-icon sa-success animate">
                       <span class="sa-line sa-tip animateSuccessTip"></span>
                       <span class="sa-line sa-long animateSuccessLong"></span>
                       <div class="sa-placeholder"></div>
                       <div class="sa-fix"></div>
                   </div>
               </div>
               <div>
                   <button id="restart" class="btn btn-success offset-10" data-bs-dismiss="modal"
                           onclick="setToNormal()">OK
                   </button>
               </div>
           </div>

           <div id="catBox" class="">
               <div class="box">
                   <div class="cat">
                       <div class="cat__body"></div>
                       <div class="cat__body"></div>
                       <div class="cat__tail"></div>
                       <div class="cat__head"></div>
                   </div>
               </div>
           </div>


       </div>
   </div>
</div>


<!-- loading modal box end  -->
</main>


<div th:replace="~{index::footer}"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="/static/assets/js/userDetail.js"></script>
<script>
    document.getElementById('seeMoreBtn').addEventListener('click', function() {
        const moreUserInfo = document.getElementById('moreUserInfo');
        const seeMoreBtn = document.getElementById('seeMoreBtn');

        if (moreUserInfo.style.display === 'none') {
            // Show more user information
            moreUserInfo.style.display = 'block';
            seeMoreBtn.textContent = 'See less';
        } else {
            // Hide more user information
            moreUserInfo.style.display = 'none';
            seeMoreBtn.textContent = 'See more...';
        }
    });
</script>
</body>
</html>


