<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{index::head}">
    <meta charset="UTF-8">
    <title>User Profile</title>
    <style>
        .gradient-custom-2 {
            /* fallback for old browsers */
            background: #fbc2eb;

            /* Chrome 10-25, Safari 5.1-6 */
            background: -webkit-linear-gradient(to right, rgba(251, 194, 235, 1), rgba(166, 193, 238, 1));

            /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
            background: linear-gradient(to right, rgba(251, 194, 235, 1), rgba(166, 193, 238, 1))
        }
        .container{
            background: #eee;
            display: flex;
        }
        .middle-panel{
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .post{
            width: 550px;
            background: #fff;
            border-radius: 10px;
            padding: 10px;
            margin: 10px;
        }
        .post .post-top{
            display: flex;
            align-items: center;
            padding: 10px;
        }
        .post .post-top .dp{
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
        }
        .post .post-top .dp > img{
            width: 100%;
            cursor: pointer;
        }
        .post .post-top .post-info{
            margin-left: 10px;
            font-weight: bold;
        }
        .post .post-top .post-info .name{
            cursor: pointer;
            font-size: 16px;

        }
        .post .post-top .post-info .time{
            font-size: 12px;
            cursor: pointer;
        }
        .post .post-top i{
            margin-left: auto;
            cursor: pointer;
        }
        .post .post-top > input{
            height: 40px;
            padding: 5px 10px;
            border-radius: 25px;
            outline: none;
            border: none;
            flex: 1;
            background: #eee;
            margin-left: 10px;
        }
        .post .post-content {
            font-size: 16px;
            font-weight: normal;
            padding: 10px;
        }
        .post .post-content > img ,.post .post-content > video{
            width: 100%;
            margin: 5px 0px;
        }
        .post .post-bottom {
            box-shadow: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            padding: 5px 5px 0px 5px;
        }
        .post .post-bottom .action{
            padding: 10px;
            border-radius: 10px;
            transition: .3s ease-in;
            cursor: pointer;
        }
        .post .post-bottom .action:hover{
            background: #eee;
        }
        .post.create .post-bottom > .action{
            color: #d74;

        }
    </style>
</head>
<body>
<div th:replace="~{index::header}"></div>
<div th:replace="~{index::navbar}"></div>
<main id="main" class="main">
     <span id="invitationMessage"></span>
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <img id="communityImage" src="/assets/img/pf-bg1.gif" width="300" height="300">
            <h1 id="communityName" style="font-weight: bold">Spider Man</h1>
            <p id="communityMembers" ><i class="fa-solid fa-earth-americas"></i>Public group 10members</p>
            <div class="button-group">
                <button type="button" class="btn btn-secondary btn-lg" value="Joined"><i class="fa-solid fa-users-gear"></i>Joined</button>
                <button type="button" class="btn btn-primary btn-lg" value="Invite" id="inviteBtn" onclick="populateCreateGroupFormForInvitation()"><i class="fa-solid fa-user-plus"></i>Invite</button>            </div>

            <div class="container">
                <div class="modal fade" id="invitationFormModal" tabindex="-1" aria-labelledby="createCommunityModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="createGroupModalLabel">Invite friends</h5>
                            </div>
                            <div class="modal-body">
                                <form id="inviteForm">
                                    <input type="hidden" id="communityId1" name="communityId">
                                    <div class="row mb-4">
                                        <label>Choose Member's List:</label><br>
                                        <div class="col-md-4">
                                            <input type="text" class="form-control" id="userSearch" placeholder="Search users.." style="margin-left: 329px">
                                            <div id="usersList"></div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="inviteModalCloseBtn">Close</button>
                                <button type="button" class="btn btn-primary" data-dismiss="modal" id="inviteFriendBtn" >Invite</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
            <div class="middle-panel">

                <div class="post create">
                    <div class="post-top">
                        <div class="dp">
                            <img src="/assets/img/pf-bg1.gif" alt="">
                        </div>
                        <input type="text" placeholder="What's on your mind?">
                    </div>
                    <div class="post-bottom">
                        <div class="action">
                            <i class="fa fa-video"></i>
                            <span>Live Video</span>
                        </div>
                        <div class="action">
                            <i class="fa fa-photo"></i>
                            <span>Photo/Video</span>
                        </div>
                        <div class="action">
                            <i class="fa-solid fa-face-smile"></i>
                            <span>Feeling/Activity</span>
                        </div>
                    </div>
                </div>


                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" onclick="getPosts()" id="newsfeed-tab"  data-bs-toggle="tab" data-bs-target="#newsfeedTab" type="button" role="tab" aria-controls="Newsfeed" aria-selected="true">Newsfeed</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" onclick="getEvents()" id="events-tab" data-bs-toggle="tab" data-bs-target="#eventsTab" type="button" role="tab" aria-controls="Events" aria-selected="false">Events</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" onclick="getPolls()" id="polls-tab" data-bs-toggle="tab" data-bs-target="#pollsTab" type="button" role="tab" aria-controls="Polls" aria-selected="false">Polls</button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="newsfeedTab" role="tabpanel" aria-labelledby="newsfeed-tab">
                        <div id="newsfeed"  class=""></div>
                    </div>
                    <div class="tab-pane fade" id="eventsTab" role="tabpanel" aria-labelledby="events-tab">
                        <div id="events"  class=""></div>
                    </div>
                    <div class="tab-pane fade" id="pollsTab" role="tabpanel" aria-labelledby="polls-tab">
                        <div id="polls" class=" "></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- loading modal box start  -->
    <div class="modal fade  " id="loadingModalBox" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
         aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content border rounded-1">

                <div id="markBox" class="hidden">
                    <div class="check_mark">
                        <div class="sa-icon sa-success animate">
                            <span class="sa-line sa-tip animateSuccessTip"></span>
                            <span class="sa-line sa-long animateSuccessLong"></span>
                            <div class="sa-placeholder"></div>
                            <div class="sa-fix"></div>
                        </div>
                    </div>
                    <div>
                        <button id="restart" class="btn btn-success offset-10" data-bs-dismiss="modal"
                                onclick="setToNormal()">OK
                        </button>
                    </div>
                </div>

                <div id="catBox" class="">
                    <div class="box">
                        <div class="cat">
                            <div class="cat__body"></div>
                            <div class="cat__body"></div>
                            <div class="cat__tail"></div>
                            <div class="cat__head"></div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>



    <!-- loading modal box end  -->

        <!-- edit modal box  -->
  

        <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1" id="postEditOffcanvas" aria-labelledby="offcanvasWithBothOptionsLabel">
            <div class="offcanvas-header">
              <h5 class="offcanvas-title font-monospace m-2" id="offcanvasWithBothOptionsLabel">Edit Post</h5>
              <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
               
                       <div class="modal-body" id="editModal">
                           ...
                       </div>  
                           <button type="button" onclick="getUpdateData()"   class="btn btn-primary"
                           data-bs-dismiss="offcanvas"  aria-label="Close"  >Update
                           </button>
     
                    
               </div>
           </div>
       



      <!-- poll edit offcanvas start  -->



      <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1" id="pollEditOffcanvas" aria-labelledby="offcanvasWithBothOptionsLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Edit Poll</h5>
          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body"> 
                        <div class="modal-body" id="pollEventEditModal">
        
                        </div>
        
                   
                
            
        </div>
      </div>


      <!-- poll edit offcanvas end  -->

     <!-- event edit offcanvas start  -->



     <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1" id="eventEditOffcanvas" aria-labelledby="offcanvasWithBothOptionsLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title font-monospace m-2" id="offcanvasWithBothOptionsLabel">Edit announcement</h5>
          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            
                        <div class="modal-body" id="eventEditModal">
        
                        </div>
        
                    
               
          
        </div>
      </div>


      <!-- event edit offcanvas end  -->


</main>
<div th:replace="~{index::footer}"></div>
    <script src="/static/assets/js/communityDetail.js"></script>
<!--    <script>-->
<!--        let communityId = localStorage.getItem('communityIdForDetailPage')-->
<!--    </script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>

</body>
</html>
